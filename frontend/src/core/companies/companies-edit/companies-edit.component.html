<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>{{ isNewCompany ? 'New Company' : 'Edit Company' }}</h2>
  <button class="btn btn-secondary" (click)="cancel()">
    <i class="bi bi-arrow-left"></i> Back to List
  </button>
</div>

<div class="row">
  <div class="col-md-8">
    <form (ngSubmit)="save()" #companyForm="ngForm">
      <div class="mb-3">
        <label for="name" class="form-label">Name *</label>
        <input 
          type="text" 
          class="form-control" 
          id="name" 
          name="name"
          [(ngModel)]="company.name" 
          required
          #name="ngModel">
        <div class="invalid-feedback" *ngIf="name.invalid && name.touched">
          Name is required.
        </div>
      </div>

      <div class="mb-3">
        <label for="address" class="form-label">Address *</label>
        <input 
          type="text" 
          class="form-control" 
          id="address" 
          name="address"
          [(ngModel)]="company.address" 
          required
          #address="ngModel">
        <div class="invalid-feedback" *ngIf="address.invalid && address.touched">
          Address is required.
        </div>
      </div>

      <div class="mb-3">
        <label for="phone" class="form-label">Phone *</label>
        <input 
          type="text" 
          class="form-control" 
          id="phone" 
          name="phone"
          [(ngModel)]="company.phone" 
          required
          #phone="ngModel">
        <div class="invalid-feedback" *ngIf="phone.invalid && phone.touched">
          Phone is required.
        </div>
      </div>

      <div class="mb-3">
        <label for="email" class="form-label">Email *</label>
        <input 
          type="email" 
          class="form-control" 
          id="email" 
          name="email"
          [(ngModel)]="company.email" 
          required
          #email="ngModel">
        <div class="invalid-feedback" *ngIf="email.invalid && email.touched">
          Please enter a valid email address.
        </div>
      </div>

      <div class="alert alert-danger" *ngIf="error">
        {{ error }}
      </div>

      <div class="d-flex gap-2">
        <button 
          type="submit" 
          class="btn btn-primary" 
          [disabled]="loading || companyForm.invalid">
          <i class="bi bi-check-circle"></i> 
          {{ loading ? 'Saving...' : (isNewCompany ? 'Create Company' : 'Update Company') }}
        </button>
        <button 
          type="button" 
          class="btn btn-secondary" 
          (click)="cancel()" 
          [disabled]="loading">
          <i class="bi bi-x-circle"></i> Cancel
        </button>
      </div>
    </form>
  </div>
</div>
